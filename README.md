# ğŸš€ AI Labor Chatbot - å¤šä»£ç†å°ç£å‹è³‡ AI è«®è©¢ç³»çµ±

**å°ˆæ¡ˆç›®æ¨™**ï¼šæä¾›ä¼æ¥­ç´šçš„å°ç£å‹è³‡æ³• AI è«®è©¢ç³»çµ±ï¼Œæ•´åˆå¤šä»£ç†å”ä½œæ¶æ§‹ã€æœ€æ–° GPT-5-mini æ¨¡å‹ï¼Œä»¥åŠå®Œæ•´çš„é›²ç«¯éƒ¨ç½²è§£æ±ºæ–¹æ¡ˆã€‚

[![GitHub Repo](https://img.shields.io/badge/GitHub-Repository-blue)](https://github.com/stevechen1112/ai-labor-chatbot-)
[![API Docs](https://img.shields.io/badge/API-Docs-green)](http://127.0.0.1:8000/docs)
[![Deployed](https://img.shields.io/badge/Cloud-Linode-orange)](http://172.233.77.41:8000)

## ğŸ¯ æ ¸å¿ƒç‰¹è‰²

- **ğŸ¤– å¤šä»£ç†å”ä½œç³»çµ±**ï¼š4 å€‹å°ˆæ¥­ Agentï¼ˆæ¥å¾…å“¡ã€å¾‹å¸«ã€å¯©æ ¸å“¡ã€ç§˜æ›¸ï¼‰åˆ†å·¥åˆä½œ
- **ğŸ§  æœ€æ–° AI æŠ€è¡“**ï¼šGPT-5-mini + æ··åˆæª¢ç´¢ + å¼•ç”¨é©—è­‰ï¼Œé˜²æ­¢å¹»è¦º
- **ğŸ“Š å¯¦æ¸¬é©—è­‰**ï¼š30 é¡Œè¤‡é›œæ¸¬è©¦ 100% é€šéï¼Œè³ªé‡åˆ†æ•¸ 0.91
- **ğŸŒ API ä¸²æ¥**ï¼šå®Œæ•´ REST APIï¼Œæ”¯æ´å¤–éƒ¨ç¶²ç«™æ•´åˆ
- **â˜ï¸ é›²ç«¯å°±ç·’**ï¼šLinode éƒ¨ç½²æŒ‡å—ï¼Œä¸€éµä¸Šé›²
- **ğŸ”’ ä¼æ¥­ç´šå®‰å…¨**ï¼šCORS æ”¯æ´ã€API é‡‘é‘°é©—è­‰ã€æ•æ„Ÿè³‡æ–™æ’é™¤

## ğŸ“Š ç•¶å‰ç‹€æ…‹ï¼ˆ2025-12-19ï¼‰

### âœ… **Phase 2.7 ç³»çµ±æ€§æ²»æœ¬å®Œæˆ** - å¼•ç”¨ç²¾ç¢ºåº¦é©å‘½ ğŸ¯

- ğŸ¯ **å¤šä¸»é¡ŒåŠ æ¬ŠåŒ¹é…**ï¼šå–ä»£ã€Œç¬¬ä¸€å€‹åŒ¹é…å°±è´ã€ï¼Œ100% æº–ç¢ºè­˜åˆ¥æŸ¥è©¢ä¸»é¡Œ
- ğŸ·ï¸ **ä¸»é¡Œåˆ†é¡ç³»çµ±**ï¼š38 å€‹ä¸»é¡Œåˆ†ç‚º definition/right/procedure/penalty å››é¡
- ğŸ“š **å®šç¾©æ¢æ–‡å„ªå…ˆ**ï¼šå·¥è³‡ã€è·ç½ç­‰å®šç¾©æ€§å•é¡Œè‡ªå‹•å„ªå…ˆå¼•ç”¨åŸºç¤æ¢æ–‡ï¼ˆå¦‚ç¬¬2æ¢ï¼‰
- ğŸ” **æ™ºèƒ½æª¢ç´¢å‡ç´š**ï¼šç§»é™¤å ´æ™¯ç‰¹å®š heuristicsï¼Œæ¡ç”¨é€šç”¨åŒ–æ¬Šé‡æ©Ÿåˆ¶
- âœ… **Supervisor ä¸€è‡´æ€§æª¢æŸ¥**ï¼šè‡ªå‹•åµæ¸¬å¼•ç”¨æ¢æ–‡èˆ‡æŸ¥è©¢ä¸»é¡Œä¸ä¸€è‡´
- ğŸ§ª **10/10 é«˜é¢¨éšªæ¸¬è©¦**ï¼šå¹´çµ‚çé‡‘ã€é€šå‹¤ç½å®³ã€å–ªå‡ç­‰é—œéµå ´æ™¯ 100% é€šé

### âœ… **Phase 3 å¤šä»£ç†ç³»çµ±** - ä¼æ¥­ç´š AI æ¶æ§‹ ğŸ‰

- ğŸ¤– **å¤šä»£ç†å”ä½œ**ï¼šæ¥å¾…å“¡â†’å¾‹å¸«â†’å¯©æ ¸å“¡â†’ç§˜æ›¸ï¼Œ4 å€‹å°ˆæ¥­ Agent åˆ†å·¥
- ğŸ§  **GPT-5-mini æ•´åˆ**ï¼šæœ€æ–° OpenAI æ¨¡å‹ï¼ŒResponses API æ”¯æ´
- ğŸ§ª **å¯¦æ¸¬é©—è­‰**ï¼š30 é¡Œè¤‡é›œå‹è³‡å•é¡Œ 100% é€šéï¼Œå¹³å‡è³ªé‡åˆ†æ•¸ 0.91
- ğŸŒ **API ä¸²æ¥å°±ç·’**ï¼šå®Œæ•´ REST APIï¼Œæ”¯æ´å¤–éƒ¨ç¶²ç«™æ•´åˆ
- â˜ï¸ **Linode é›²ç«¯éƒ¨ç½²**ï¼šç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²æŒ‡å— + è‡ªå‹•åŒ–è…³æœ¬
- ğŸ“š **GitHub ç‰ˆæœ¬æ§åˆ¶**ï¼šå®Œæ•´ç¨‹å¼ç¢¼åº«ï¼Œå®‰å…¨æ’é™¤æ•æ„Ÿè³‡æ–™

### ğŸ“ˆ **ç³»çµ±æŒ‡æ¨™**
- **ä¸»é¡ŒåŒ¹é…æº–ç¢ºç‡**ï¼š10/10ï¼ˆ100%ï¼‰- å¹´çµ‚çé‡‘/é€šå‹¤ç½å®³/å–ªå‡ç­‰
- **æ¸¬è©¦é€šéç‡**ï¼š30/30ï¼ˆ100%ï¼‰
- **å¹³å‡è³ªé‡åˆ†æ•¸**ï¼š0.91/1.0
- **å¹³å‡ä¿¡å¿ƒåº¦**ï¼š0.7-1.0
- **æ³•è¦æ¶µè“‹**ï¼š82 éƒ¨å‹å‹•æ³•è¦ï¼ˆ38 å€‹ä¸»é¡Œåˆ†é¡ï¼‰
- **çŸ¥è­˜åº«è¦æ¨¡**ï¼š4,621 ç¯‡æ–‡æª”æ®µè½
- **å‘é‡ç¶­åº¦**ï¼šBGE-M3 ä¸­æ–‡å„ªåŒ–åµŒå…¥

### ğŸ”§ **æŠ€è¡“æ£§**
- **å¾Œç«¯**ï¼šFastAPI + Uvicorn
- **AI æ¨¡å‹**ï¼šGPT-5-mini (OpenAI)
- **å‘é‡æª¢ç´¢**ï¼šChromaDB + BGE-M3
- **æ··åˆæª¢ç´¢**ï¼šTF-IDF + å‘é‡ + Reranker
- **è³‡æ–™åº«**ï¼šSQLiteï¼ˆæœƒè©±æŒä¹…åŒ–ï¼‰
- **å‰ç«¯**ï¼šåŸç”Ÿ HTML/CSS/JavaScript

## ğŸ“ å°ˆæ¡ˆæ¶æ§‹

```
ai-labor-chatbot/
â”œâ”€â”€ app/                        # ğŸš€ FastAPI ä¼æ¥­ç´šå¾Œç«¯
â”‚   â”œâ”€â”€ main.py                 # ä¸»ç¨‹å¼ - REST API ç«¯é»
â”‚   â”œâ”€â”€ multi_agent_coordinator.py  # â­ å¤šä»£ç†å”ä½œæ ¸å¿ƒ
â”‚   â”œâ”€â”€ agents/                 # ğŸ¤– å°ˆæ¥­ Agent é›†åˆ
â”‚   â”‚   â”œâ”€â”€ receptionist.py     # æ¥å¾…å“¡ - æŸ¥è©¢åˆ†æèˆ‡ç­–ç•¥
â”‚   â”‚   â”œâ”€â”€ lawyer.py          # å¾‹å¸« - GPT-5-mini ç­”æ¡ˆç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ supervisor.py      # å¯©æ ¸å“¡ - è³ªé‡æ§åˆ¶èˆ‡é©—è­‰
â”‚   â”‚   â””â”€â”€ secretary.py       # ç§˜æ›¸ - æ ¼å¼åŒ–èˆ‡å»ºè­°
â”‚   â”œâ”€â”€ intelligent_retrieval.py # ğŸ§  Phase 2.5 æ™ºèƒ½æª¢ç´¢
â”‚   â”œâ”€â”€ query_planner.py       # ğŸ“‹ Phase 2.6 æŸ¥è©¢è¦åŠƒ
â”‚   â”œâ”€â”€ citation_validator.py  # ğŸ›¡ï¸ Phase 0 å¼•ç”¨é©—è­‰
â”‚   â”œâ”€â”€ knowledge_graph.py     # ğŸ•¸ï¸ æ³•è¦é—œè¯ç¶²çµ¡
â”‚   â”œâ”€â”€ database.py            # ğŸ’¾ SQLite æŒä¹…åŒ–å„²å­˜
â”‚   â”œâ”€â”€ retrieval.py           # ğŸ” æ··åˆæª¢ç´¢ç³»çµ±
â”‚   â”œâ”€â”€ articles.py            # æ³•æ¢æŸ¥è©¢ API
â”‚   â”œâ”€â”€ citations.py            # å¼•ç”¨æ ¼å¼åŒ–
â”‚   â”œâ”€â”€ prompts.py              # UniHR é¢¨æ ¼æç¤ºè©
â”‚   â”œâ”€â”€ query_enhancement.py    # æŸ¥è©¢å¢å¼·
â”‚   â”œâ”€â”€ reranker.py             # é‡æ’åºå™¨
â”‚   â”œâ”€â”€ rules.py                # ä¸»é¡Œè¦å‰‡è·¯ç”±
â”‚   â””â”€â”€ vector_store.py         # å‘é‡å„²å­˜ç®¡ç†
â”œâ”€â”€ data/                       # ğŸ“š çŸ¥è­˜åº«
â”‚   â”œâ”€â”€ laws/                   # 82 éƒ¨å‹å‹•æ³•è¦ Markdown
â”‚   â”œâ”€â”€ index/                  # æª¢ç´¢ç´¢å¼•
â”‚   â”‚   â”œâ”€â”€ index.json          # TF-IDF ç´¢å¼•
â”‚   â”‚   â”œâ”€â”€ chroma/             # å‘é‡è³‡æ–™åº«
â”‚   â”‚   â”œâ”€â”€ metadata.json       # æ³•è¦å…ƒæ•¸æ“š
â”‚   â”‚   â”œâ”€â”€ regression_report.json    # å›æ­¸æ¸¬è©¦å ±å‘Š
â”‚   â”‚   â””â”€â”€ regression_failures.json  # å¤±æ•—æ¡ˆä¾‹
â”‚   â”œâ”€â”€ knowledge_graph.json    # æ³•è¦é—œè¯åœ–
â”‚   â”œâ”€â”€ law_guides.yaml         # ä¸»é¡Œå°å‘æŒ‡å—
â”‚   â”œâ”€â”€ citation_validation.json # å¼•ç”¨é©—è­‰çµæœ
â”‚   â”œâ”€â”€ tests/                  # æ¸¬è©¦è³‡æ–™é›†
â”‚   â”‚   â”œâ”€â”€ complex_labor_questions_30.json  # â­ 30 é¡Œè¤‡é›œå•é¡Œ
â”‚   â”‚   â”œâ”€â”€ phase_2.5_test_cases.json
â”‚   â”‚   â”œâ”€â”€ phase_2.6_benchmark_cases.json
â”‚   â”‚   â””â”€â”€ queries.json        # åŸºæº–æ¸¬è©¦å•é¡Œ
â”‚   â””â”€â”€ app.db                  # SQLite è³‡æ–™åº«
â”œâ”€â”€ scripts/                    # ğŸ› ï¸ é–‹ç™¼å·¥å…·
â”‚   â”œâ”€â”€ build_index.py          # å»ºç«‹ TF-IDF ç´¢å¼•
â”‚   â”œâ”€â”€ build_vectors.py        # å»ºç«‹å‘é‡ç´¢å¼•
â”‚   â”œâ”€â”€ health_check.py         # ç³»çµ±å¥åº·æª¢æŸ¥
â”‚   â”œâ”€â”€ regression_tests.py     # å›æ­¸æ¸¬è©¦
â”‚   â”œâ”€â”€ validate_citations.py   # å¼•ç”¨é©—è­‰
â”‚   â””â”€â”€ generate_metadata.py    # ç”Ÿæˆå…ƒæ•¸æ“š
â”œâ”€â”€ static/                     # ğŸ¨ å‰ç«¯ä»‹é¢
â”‚   â”œâ”€â”€ index.html              # èŠå¤© UI
â”‚   â””â”€â”€ ui.js                   # å‰ç«¯é‚è¼¯
â”œâ”€â”€ logs/                       # ğŸ“ ç³»çµ±æ—¥èªŒ
â”œâ”€â”€ DEPLOY_TO_LINODE.md         # â˜ï¸ é›²ç«¯éƒ¨ç½²æŒ‡å—
â”œâ”€â”€ API_INTEGRATION_GUIDE.md    # ğŸ”Œ API ä¸²æ¥æŒ‡å—
â”œâ”€â”€ requirements.txt            # ğŸ“¦ Python ä¾è³´
â”œâ”€â”€ .gitignore                  # ğŸ”’ å®‰å…¨æ’é™¤æª”æ¡ˆ
â”œâ”€â”€ ai_labor_chatbot.tar.gz      # ğŸ“¦ éƒ¨ç½²åŒ…
â””â”€â”€ README.md                   # ğŸ“– æœ¬æª”æ¡ˆ
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### æœ¬åœ°éƒ¨ç½²

```bash
# 1. å®‰è£ä¾è³´
pip install -r requirements.txt

# 2. è¨­å®š API é‡‘é‘°
echo "openai" > "api key.txt"
echo "sk-your-openai-key-here" >> "api key.txt"

# 3. å»ºç«‹çŸ¥è­˜åº«ç´¢å¼•
python scripts/build_index.py

# 4. å•Ÿå‹•æœå‹™å™¨
python -m uvicorn app.main:app --host 127.0.0.1 --port 8000 --reload
```

**è¨ªå•åœ°å€**ï¼šhttp://127.0.0.1:8000

### æ–¹æ³• 3ï¼šé›²ç«¯éƒ¨ç½²

```bash
# åƒè€ƒå®Œæ•´æŒ‡å—
cat DEPLOY_TO_LINODE.md

# æˆ–ç›´æ¥åœ¨ Linode ä¼ºæœå™¨ä¸ŠåŸ·è¡Œ
ssh root@172.233.77.41
git clone https://github.com/stevechen1112/ai-labor-chatbot-.git
cd ai-labor-chatbot-
bash deploy.sh
```

## ğŸ¯ ä½¿ç”¨æ–¹å¼

### ğŸŒ Web ä»‹é¢
è¨ªå•ï¼šhttp://127.0.0.1:8000

**æ”¯æ´åŠŸèƒ½**ï¼š
- ğŸ’¬ å³æ™‚å°è©±
- ğŸ“ æœƒè©±æ­·å²
- â­ å•é¡Œå›é¥‹
- ğŸ“Š ç³»çµ±æŒ‡æ¨™

### ğŸ”Œ API ä¸²æ¥

#### ä¸»è¦ç«¯é»ï¼šå¤šä»£ç†æŸ¥è©¢
```bash
curl -X POST "http://127.0.0.1:8000/query/multi-agent" \
  -H "Content-Type: application/json" \
  -d '{
    "query": "è©¦ç”¨æœŸå¯ä»¥éš¨æ™‚è§£åƒ±å—ï¼Ÿ",
    "top_k": 10
  }'
```

#### å›æ‡‰ç¯„ä¾‹
```json
{
  "answer": "è©¦ç”¨æœŸé–“çµ‚æ­¢å‹å‹•å¥‘ç´„ï¼Œä¸å¿…äº‹å…ˆé å‘Š...",
  "suggestions": [
    "å»ºè­°æŸ¥è©¢ç›¸é—œæ³•è¦",
    "å¯å°‹æ±‚å°ˆæ¥­å”åŠ©"
  ],
  "metadata": {
    "query_type": "PROFESSIONAL",
    "complexity": 4.5,
    "confidence": 1.0,
    "quality_score": 0.91,
    "review_decision": "PASS"
  }
}
```

#### API æ–‡æª”
è¨ªå•ï¼šhttp://127.0.0.1:8000/docs

## ğŸ§ª æ¸¬è©¦èˆ‡é©—è­‰

### 30 é¡ŒåŸºæº–æ¸¬è©¦
```bash
python scripts/test_30_questions_v2.6.1.py
```

**æœ€æ–°çµæœ**ï¼š
- âœ… é€šéç‡ï¼š30/30ï¼ˆ100%ï¼‰
- âœ… å¹³å‡è³ªé‡åˆ†æ•¸ï¼š0.91
- âœ… å¹³å‡ä¿¡å¿ƒåº¦ï¼š0.7-1.0

### å¥åº·æª¢æŸ¥
```bash
curl http://127.0.0.1:8000/health
# å›æ‡‰ï¼š{"status": "ok", "num_docs": 4621}
```

## ğŸ”§ é€²éšè¨­å®š

### API é‡‘é‘°é…ç½®
```bash
# æ–¹æ³• 1ï¼šæª”æ¡ˆé…ç½®
echo "openai" > "api key.txt"
echo "sk-your-key-here" >> "api key.txt"

# æ–¹æ³• 2ï¼šç’°å¢ƒè®Šæ•¸
export OPENAI_API_KEY="sk-your-key-here"
```

### è‡ªè¨‚æ¨¡å‹
```python
# åœ¨ app/agents/lawyer.py ä¸­ä¿®æ”¹
self.model = "gpt-4o-mini"  # æˆ–å…¶ä»– OpenAI æ¨¡å‹
```

### è³‡æ–™åº«é‡ç½®
```bash
rm data/app.db
python -c "from app.database import get_db; db = get_db(); db.init_tables()"
```

## ğŸ¤– AI æ¶æ§‹ç‰¹è‰²

### å¤šä»£ç†å”ä½œç³»çµ±
```
ç”¨æˆ¶æŸ¥è©¢ â†’ æ¥å¾…å“¡ Agent â†’ æ™ºèƒ½æª¢ç´¢ â†’ å¾‹å¸« Agent â†’ å¯©æ ¸å“¡ Agent â†’ ç§˜æ›¸ Agent â†’ æœ€çµ‚ç­”æ¡ˆ
```

**å„ Agent è·è²¬**ï¼š
- ğŸ¤ **æ¥å¾…å“¡**ï¼šæŸ¥è©¢åˆ†æã€è¤‡é›œåº¦è©•ä¼°ã€æª¢ç´¢ç­–ç•¥è¦åŠƒ
- âš–ï¸ **å¾‹å¸«**ï¼šGPT-5-mini ç­”æ¡ˆç”Ÿæˆã€æ³•æ¢å¼•ç”¨ã€å°ˆæ¥­å»ºè­°
- ğŸ” **å¯©æ ¸å“¡**ï¼šå¼•ç”¨é©—è­‰ã€é‚è¼¯æª¢æŸ¥ã€å“è³ªè©•åˆ†
- ğŸ“ **ç§˜æ›¸**ï¼šç­”æ¡ˆæ ¼å¼åŒ–ã€å»ºè­°æ•´ç†ã€æœ€çµ‚è¼¸å‡º

### æ··åˆæª¢ç´¢æŠ€è¡“
- **TF-IDF**ï¼šå‚³çµ±æ–‡å­—æª¢ç´¢ï¼Œç²¾æº–åŒ¹é…é—œéµè©
- **å‘é‡æª¢ç´¢**ï¼šèªç¾©ç†è§£ï¼Œæ•æ‰æŸ¥è©¢æ„åœ–
- **Reranker**ï¼šäº¤å‰ç·¨ç¢¼å™¨é‡æ’åºï¼Œæå‡ç›¸é—œæ€§
- **æ³•è¦é—œè¯åœ–**ï¼šç†è§£æ³•æ¢é–“çš„é‚è¼¯é—œä¿‚

### å“è³ªä¿è­‰æ©Ÿåˆ¶
- ğŸ›¡ï¸ **å¼•ç”¨é©—è­‰**ï¼šé˜²æ­¢ AI å¹»è¦ºï¼Œç¢ºä¿æ³•æ¢æ­£ç¢º
- ğŸ“Š **è³ªé‡è©•åˆ†**ï¼š0-1 åˆ†æ•¸ï¼Œè©•ä¼°å›ç­”å“è³ª
- ğŸ¯ **ä¿¡å¿ƒåº¦æŒ‡æ¨™**ï¼šé¡¯ç¤º AI çš„å›ç­”ç¢ºå®šæ€§
- ğŸ”„ **æŒçºŒå­¸ç¿’**ï¼šä½¿ç”¨è€…å›é¥‹æ”¹å–„ç³»çµ±

## ğŸ§ª æ¸¬è©¦èˆ‡å“è³ªä¿è­‰

### ä¸»é¡ŒåŒ¹é…æ¸¬è©¦ï¼ˆv2.7 æ–°å¢ï¼‰â­
```bash
# åŸ·è¡Œç³»çµ±æ€§æ²»æœ¬é©—è­‰æ¸¬è©¦
python scripts/test_systemic_fix.py

# æœ€æ–°çµæœ (2025-12-19)ï¼š
# âœ… ä¸»é¡ŒåŒ¹é…ï¼š10/10ï¼ˆ100%ï¼‰
# âœ… å¹´çµ‚çé‡‘å ´æ™¯ï¼šå‹åŸºæ³•ç¬¬2æ¢æ­£ç¢ºå„ªå…ˆ
# âœ… é€šå‹¤ç½å®³ã€å–ªå‡ç­‰é«˜é¢¨éšªå ´æ™¯å…¨éƒ¨é€šé
```

### 30 é¡ŒåŸºæº–æ¸¬è©¦ â­
```bash
# åŸ·è¡Œå®Œæ•´çš„ 30 é¡Œè¤‡é›œå‹è³‡å•é¡Œæ¸¬è©¦
python scripts/regression_tests.py --out data/index/regression_report.json --fail-out data/index/regression_failures.json

# æœ€æ–°çµæœ (2025-11-16)ï¼š
# âœ… é€šéç‡ï¼š30/30ï¼ˆ100%ï¼‰
# âœ… å¹³å‡è³ªé‡åˆ†æ•¸ï¼š0.91/1.0
# âœ… å¹³å‡éŸ¿æ‡‰æ™‚é–“ï¼š18-32 ç§’
# âœ… æ¨¡å‹ï¼šgpt-5-mini
```

### ç³»çµ±å¥åº·æª¢æŸ¥
```bash
# API å¥åº·ç‹€æ…‹
curl http://127.0.0.1:8000/health
# {"status": "ok", "num_docs": 4621}

# ç³»çµ±æŒ‡æ¨™
curl http://127.0.0.1:8000/metrics
# æŸ¥è©¢çµ±è¨ˆã€å»¶é²ã€æˆåŠŸç‡ç­‰
```

### å¼•ç”¨é©—è­‰æ¸¬è©¦
```bash
# æª¢æŸ¥æ³•æ¢å¼•ç”¨æ­£ç¢ºæ€§
python scripts/validate_citations.py
```

## ğŸŒ API ä¸²æ¥æŒ‡å—

### å¤–éƒ¨ç¶²ç«™æ•´åˆ
```javascript
// æ•´åˆåˆ°æ‚¨çš„ç¶²ç«™
async function queryLaborAI(question) {
  const response = await fetch('http://your-server:8000/query/multi-agent', {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({
      query: question,
      top_k: 10
    })
  });

  const data = await response.json();
  return {
    answer: data.answer,
    confidence: data.metadata.confidence,
    quality_score: data.metadata.quality_score
  };
}
```

### CORS è¨­å®š
API å·²é è¨­å•Ÿç”¨ CORSï¼Œæ”¯æ´è·¨åŸŸè«‹æ±‚ï¼š
```python
# app/main.py
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],  # å¯æ”¹ç‚ºæ‚¨çš„åŸŸå
    allow_methods=["GET", "POST"],
    allow_headers=["*"],
)
```

## â˜ï¸ éƒ¨ç½²é¸é …

### æœ¬åœ°éƒ¨ç½²
```bash
# ä½¿ç”¨å•Ÿå‹•è…³æœ¬
./start_server.ps1

# æˆ–æ‰‹å‹•å•Ÿå‹•
pip install -r requirements.txt
python -m uvicorn app.main:app --host 0.0.0.0 --port 8000
```

### é›²ç«¯éƒ¨ç½²
```bash
# Linode å®Œæ•´æŒ‡å—
cat DEPLOY_TO_LINODE.md

# å¿«é€Ÿéƒ¨ç½²åˆ° Linode
ssh root@172.233.77.41
git clone https://github.com/stevechen1112/ai-labor-chatbot-.git
cd ai-labor-chatbot-
chmod +x deploy.sh && ./deploy.sh
```

## ğŸ“Š ç³»çµ±è¦æ ¼

| çµ„ä»¶ | è¦æ ¼ | èªªæ˜ |
|------|------|------|
| **AI æ¨¡å‹** | GPT-5-mini | OpenAI æœ€æ–°æ¨¡å‹ |
| **æª¢ç´¢æŠ€è¡“** | æ··åˆæª¢ç´¢ | TF-IDF + å‘é‡ + Reranker |
| **çŸ¥è­˜åº«** | 82 éƒ¨æ³•è¦ | 4,621 ç¯‡æ–‡æª”æ®µè½ |
| **å‘é‡åµŒå…¥** | BGE-M3 | ä¸­æ–‡å„ªåŒ–ï¼Œ768 ç¶­åº¦ |
| **è³‡æ–™åº«** | SQLite | æœƒè©±æŒä¹…åŒ– |
| **API æ¡†æ¶** | FastAPI | é«˜æ€§èƒ½ç•°æ­¥æ¡†æ¶ |
| **éŸ¿æ‡‰æ™‚é–“** | 18-32 ç§’ | åŒ…å« LLM ç”Ÿæˆ |

## ğŸ”„ ç‰ˆæœ¬æ­·å²

### v2.7 (2025-12-19) - ç³»çµ±æ€§æ²»æœ¬ï¼šå¼•ç”¨ç²¾ç¢ºåº¦é©å‘½ ğŸ¯
- âœ… **å¤šä¸»é¡ŒåŠ æ¬ŠåŒ¹é…**ï¼š`LawGuideEngine.match_topics()` å–ä»£ã€Œç¬¬ä¸€åŒ¹é…ã€é‚è¼¯
- âœ… **ä¸»é¡Œåˆ†é¡ç³»çµ±**ï¼š38 å€‹ä¸»é¡Œåˆ†ç‚º definition/right/procedure/penalty å››é¡
- âœ… **å®šç¾©æ¢æ–‡å„ªå…ˆæ©Ÿåˆ¶**ï¼šå·¥è³‡ã€è·ç½ç­‰è‡ªå‹•å„ªå…ˆå¼•ç”¨åŸºç¤æ¢æ–‡ï¼ˆå¦‚ç¬¬2æ¢ï¼‰
- âœ… **ç§»é™¤å ´æ™¯ç‰¹å®š heuristics**ï¼šé€šç”¨åŒ–æ¬Šé‡ç³»çµ±ï¼Œç„¡éœ€ `is_bonus_query` ç­‰
- âœ… **Supervisor ä¸€è‡´æ€§æª¢æŸ¥**ï¼š`_check_topic_citation_consistency()` è‡ªå‹•åµæ¸¬ä¸ä¸€è‡´
- âœ… **10/10 é«˜é¢¨éšªæ¸¬è©¦é€šé**ï¼šå¹´çµ‚çé‡‘ã€é€šå‹¤ç½å®³ã€å–ªå‡ç­‰ 100% æº–ç¢º

**ä¿®å¾©å•é¡Œ**ï¼šã€Œå¹´çµ‚çé‡‘é›¢è·æ€éº¼ç®—ã€ç¾åœ¨æ­£ç¢ºå¼•ç”¨å‹åŸºæ³•ç¬¬2æ¢ï¼ˆå·¥è³‡å®šç¾©ï¼‰è€Œéç¬¬11æ¢ï¼ˆè§£åƒ±ï¼‰

### v2.6.1 (2025-11-16) - å¤šä»£ç†ç³»çµ±å®Œæˆ â­
- âœ… å¤šä»£ç†å”ä½œæ¶æ§‹ï¼ˆæ¥å¾…å“¡ã€å¾‹å¸«ã€å¯©æ ¸å“¡ã€ç§˜æ›¸ï¼‰
- âœ… GPT-5-mini å®Œæ•´æ•´åˆ
- âœ… 30 é¡Œè¤‡é›œå‹è³‡å•é¡Œæ¸¬è©¦ 100% é€šé
- âœ… API ä¸²æ¥åŠŸèƒ½èˆ‡å¤–éƒ¨æ•´åˆ
- âœ… Linode é›²ç«¯éƒ¨ç½²æˆåŠŸ
- âœ… GitHub ç‰ˆæœ¬æ§åˆ¶èˆ‡ CI/CD

### v2.5 (2025-11-14) - æ™ºèƒ½æª¢ç´¢å‡ç´š
- âœ… Phase 2.5 æ™ºèƒ½æª¢ç´¢
- âœ… æŸ¥è©¢è¦åŠƒèˆ‡é‡å¯«
- âœ… çŸ¥è­˜åœ–è­œæ•´åˆ

### v2.0 (2025-10-19) - åŸºç¤ç³»çµ±
- âœ… æ··åˆæª¢ç´¢ç³»çµ±
- âœ… Web UI ä»‹é¢
- âœ… SQLite æŒä¹…åŒ–

## ğŸ“ˆ æ•ˆèƒ½æŒ‡æ¨™

| æŒ‡æ¨™ | æ•¸å€¼ | èªªæ˜ |
|------|------|------|
| **æ¸¬è©¦é€šéç‡** | 100% | 30/30 é¡Œè¤‡é›œå•é¡Œ |
| **å¹³å‡è³ªé‡åˆ†æ•¸** | 0.91 | 0-1 å“è³ªè©•åˆ† |
| **å¹³å‡ä¿¡å¿ƒåº¦** | 0.7-1.0 | AI å›ç­”ç¢ºå®šæ€§ |
| **å¹³å‡éŸ¿æ‡‰æ™‚é–“** | 18-32 ç§’ | åŒ…å« LLM ç”Ÿæˆ |
| **æ³•è¦è¦†è“‹ç‡** | 82 éƒ¨ | å°ç£å‹å‹•æ³•è¦ |
| **çŸ¥è­˜åº«è¦æ¨¡** | 4,621 æ®µè½ | çµæ§‹åŒ–æ–‡æª” |

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

**Q: æœå‹™å™¨ç„¡æ³•å•Ÿå‹•ï¼Ÿ**
```bash
# æª¢æŸ¥ Python ç‰ˆæœ¬
python --version  # éœ€è¦ 3.8+

# å®‰è£ä¾è³´
pip install -r requirements.txt

# æª¢æŸ¥ API é‡‘é‘°
cat "api key.txt"  # ç¢ºèªæ ¼å¼æ­£ç¢º
```

**Q: æŸ¥è©¢æ²’æœ‰å›æ‡‰ï¼Ÿ**
```bash
# æª¢æŸ¥æœå‹™å™¨ç‹€æ…‹
curl http://127.0.0.1:8000/health

# æŸ¥çœ‹æ—¥èªŒ
tail -f server_output.log
tail -f server_stderr.log
```

**Q: å‘é‡ç´¢å¼•éŒ¯èª¤ï¼Ÿ**
```bash
# é‡å»ºç´¢å¼•
python scripts/build_index.py
python scripts/build_vectors.py
```

## ğŸ¤ è²¢ç»æŒ‡å—

æ­¡è¿åƒèˆ‡å°ˆæ¡ˆæ”¹é€²ï¼

1. **Fork** æ­¤å°ˆæ¡ˆ
2. å»ºç«‹åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤è®Šæ›´ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. é–‹å•Ÿ **Pull Request**

### é–‹ç™¼ç’°å¢ƒè¨­å®š
```bash
git clone https://github.com/stevechen1112/ai-labor-chatbot-.git
cd ai-labor-chatbot-
pip install -r requirements.txt

# è¨­å®š API é‡‘é‘°
echo "openai" > "api key.txt"
echo "sk-your-openai-key-here" >> "api key.txt"

# å»ºç«‹çŸ¥è­˜åº«ç´¢å¼•
python scripts/build_index.py

# å•Ÿå‹•æœå‹™
python -m uvicorn app.main:app --host 127.0.0.1 --port 8000 --reload
```

## ğŸ“ è¯çµ¡æ–¹å¼

- **å°ˆæ¡ˆç¶­è­·è€…**: Steve Chen
- **GitHub**: [https://github.com/stevechen1112/ai-labor-chatbot-](https://github.com/stevechen1112/ai-labor-chatbot-)
- **æŠ€è¡“æ”¯æ´**: è«‹åœ¨ GitHub Issues æå‡ºå•é¡Œ

## ğŸ“„ æˆæ¬Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Š - è©³è¦‹ [LICENSE](LICENSE) æª”æ¡ˆ

---

**â­ å¦‚æœé€™å€‹å°ˆæ¡ˆå°æ‚¨æœ‰å¹«åŠ©ï¼Œè«‹çµ¦æˆ‘å€‘ä¸€å€‹ Starï¼**
